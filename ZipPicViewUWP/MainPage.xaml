<Page
    x:Class="ZipPicViewUWP.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:Microsoft.UI.Xaml.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:ZipPicViewUWP"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    x:Name="Page"
    SizeChanged="PageSizeChanged"
    mc:Ignorable="d">
    <Page.Resources>
        <Storyboard x:Name="ThumbnailBorderOpenStoryboard">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ThumbnailBorder" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)">
                <SplineDoubleKeyFrame KeyTime="00:00:00" Value="-50" />
                <SplineDoubleKeyFrame KeyTime="00:00:00.3000000" Value="0" />
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ThumbnailBorder" Storyboard.TargetProperty="(UIElement.Opacity)">
                <SplineDoubleKeyFrame KeyTime="00:00:00" Value="0" />
                <SplineDoubleKeyFrame KeyTime="00:00:00.3000000" Value="1" />
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
    </Page.Resources>
    <RelativePanel
        AllowDrop="True"
        DragOver="DisplayPanelDragOver"
        Drop="DisplayPanelDrop">
        <Grid
            Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
            RelativePanel.AlignBottomWithPanel="True"
            RelativePanel.AlignLeftWithPanel="True"
            RelativePanel.AlignRightWithPanel="True"
            RelativePanel.AlignTopWithPanel="True">
            <controls:NavigationView
                x:Name="NavigationPane"
                IsBackButtonVisible="Collapsed"
                IsBackEnabled="False"
                IsSettingsVisible="False"
                OpenPaneLength="300"
                SelectionChanged="NavigationPane_SelectionChanged">
                <Border Name="ThumbnailBorder" RenderTransformOrigin="0.5,0.5">
                    <Border.RenderTransform>
                        <CompositeTransform />
                    </Border.RenderTransform>
                    <StackPanel Margin="8,8,8,8">
                        <TextBlock
                            FontSize="48"
                            FontWeight="Bold"
                            Foreground="{StaticResource SystemControlHighlightListAccentMediumBrush}">
                            ZipPicView
                        </TextBlock>
                        <TextBlock x:Name="VersionText">($version)</TextBlock>
                        <TextBlock>Copyright ©2017-2019 Wutipong Wongsakuldej</TextBlock>
                        <TextBlock>To get started, press Open File or Open Folder on the top bar.</TextBlock>
                        <Button Name="OpenFileMain" Click="OpenFileButtonClick">
                            Open File
                        </Button>
                        <Button Name="OpenFolderMain" Click="OpenFolderButtonClick">
                            Open Folder
                        </Button>
                    </StackPanel>
                </Border>
            </controls:NavigationView>
        </Grid>
        <local:ViewerControl
            x:Name="ViewerControl"
            CloseButtonClick="ImageControlCloseButtonClick"
            ControlLayerVisibilityChange="ImageControl_ControlLayerVisibilityChange"
            RelativePanel.AlignBottomWithPanel="True"
            RelativePanel.AlignLeftWithPanel="True"
            RelativePanel.AlignRightWithPanel="True"
            RelativePanel.AlignTopWithPanel="True"
            Visibility="Collapsed" />
    </RelativePanel>
    <Page.TopAppBar>
        <CommandBar VerticalAlignment="Center" VerticalContentAlignment="Center">
            <CommandBar.Content>
                <TextBlock
                    x:Name="FilenameTextBlock"
                    Margin="10,0,0,0"
                    Text="&lt;None&gt;"
                    UseLayoutRounding="True" />
            </CommandBar.Content>
            <AppBarToggleButton
                x:Name="FullScreenButton"
                Checked="FullscreenButton_Checked"
                Icon="FullScreen"
                Label="FullScreen"
                Unchecked="FullscreenButtonUnchecked" />
            <AppBarSeparator />
            <AppBarButton
                x:Name="openFileButton"
                Click="OpenFileButtonClick"
                Icon="OpenFile"
                Label="Open File" />
            <AppBarButton
                x:Name="openFolderButton"
                Click="OpenFolderButtonClick"
                Icon="Folder"
                Label="Open Folder" />
            <AppBarSeparator />
            <AppBarButton
                x:Name="aboutButton"
                Click="AboutButtonClick"
                Icon="Help"
                Label="About" />
        </CommandBar>
    </Page.TopAppBar>
</Page>